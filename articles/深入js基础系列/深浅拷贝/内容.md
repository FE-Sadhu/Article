
![](https://user-gold-cdn.xitu.io/2019/4/30/16a69f5048b15a83?w=2204&h=1140&f=png&s=277189)
ç…§ä¾‹æ€ç»´å¯¼å›¾ã€‚

### èµ‹å€¼ä¸æ·±æµ…æ‹·è´ä¹‹é—´çš„åŒºåˆ«ï¼š
![](https://user-gold-cdn.xitu.io/2019/4/30/16a69fc0f00efcc1?w=1310&h=276&f=png&s=59807)

### ç»†è¯´èµ‹å€¼ä¸æµ…æ‹·è´çš„åŒºåˆ«

å½“æˆ‘ä»¬æŠŠä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„å˜é‡æ—¶ï¼Œèµ‹çš„å…¶å®æ˜¯è¯¥å¯¹è±¡çš„åœ¨æ ˆä¸­çš„åœ°å€ï¼Œè€Œä¸æ˜¯å †ä¸­çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œæ— è®ºå“ªä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œå…¶å®éƒ½æ˜¯æ”¹å˜çš„å­˜å‚¨ç©ºé—´çš„å†…å®¹ï¼Œå› æ­¤ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯**è”åŠ¨**çš„ã€‚

æµ…æ‹·è´æ˜¯æŒ‰ä½æ‹·è´å¯¹è±¡ï¼Œ**å®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡**ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ç€åŸå§‹å¯¹è±¡å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚å¦‚æœå±æ€§æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼›å¦‚æœå±æ€§æ˜¯å†…å­˜åœ°å€ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œæ‹·è´çš„å°±æ˜¯**å†…å­˜åœ°å€** ï¼Œå› æ­¤å¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚**å³é»˜è®¤æ‹·è´æ„é€ å‡½æ•°åªæ˜¯å¯¹å¯¹è±¡è¿›è¡Œæµ…æ‹·è´å¤åˆ¶(é€ä¸ªæˆå‘˜ä¾æ¬¡æ‹·è´)ï¼Œå³åªå¤åˆ¶å¯¹è±¡ç©ºé—´è€Œä¸å¤åˆ¶èµ„æºã€‚**

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸¤ä¸ªä¾‹å­ï¼Œå¯¹æ¯”èµ‹å€¼ä¸æµ…æ‹·è´ä¼šå¯¹åŸå¯¹è±¡å¸¦æ¥å“ªäº›æ”¹å˜ï¼Ÿ

```js
// å¯¹è±¡èµ‹å€¼
var obj1 = {
  name: "zhangsan",
  age: "18",
  language: [1, [2, 3], [4, 5]]
};
var obj2 = obj1;
obj2.name = "lisi";
obj2.language[1] = ["äºŒ", "ä¸‰"];
console.log("obj1", obj1);
console.log("obj2", obj2);
```

![](https://user-gold-cdn.xitu.io/2019/4/30/16a69fe96b6d2aba?w=822&h=722&f=png&s=131454)

```js
// æµ…æ‹·è´
var obj1 = {
  name: "zhangsan",
  age: "18",
  language: [1, [2, 3], [4, 5]]
};
var obj3 = shallowCopy(obj1);
obj3.name = "lisi";
obj3.language[1] = ["äºŒ", "ä¸‰"];
function shallowCopy(src) {
  var dst = {};
  for (var prop in src) {
    if (src.hasOwnProperty(prop)) {
      dst[prop] = src[prop];
    }
  }
  return dst;
}
console.log("obj1", obj1);
console.log("obj3", obj3);
```

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6a009f4e30c49?w=828&h=726&f=png&s=138585)

ä¸Šé¢ä¾‹å­ä¸­ï¼Œobj1 æ˜¯åŸå§‹æ•°æ®ï¼Œobj2 æ˜¯èµ‹å€¼æ“ä½œå¾—åˆ°ï¼Œè€Œ obj3 æµ…æ‹·è´å¾—åˆ°ã€‚æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çœ‹åˆ°å¯¹åŸå§‹æ•°æ®çš„å½±å“ã€‚

### æµ…æ‹·è´çš„å®ç°æ–¹å¼

#### 1. Object.assign()

Object.assign() æ–¹æ³•å¯ä»¥æŠŠä»»æ„å¤šä¸ªçš„æºå¯¹è±¡è‡ªèº«çš„**å¯æšä¸¾å±æ€§**æ‹·è´ç»™ç›®æ ‡å¯¹è±¡ï¼Œç„¶åè¿”å›ç›®æ ‡å¯¹è±¡ã€‚ä½†æ˜¯ Object.assign() è¿›è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œæ‹·è´çš„æ˜¯å¯¹è±¡çš„å±æ€§çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚
```js
var obj = { a: { a: "kobe", b: 39 } };
var initalObj = Object.assign({}, obj);
initalObj.a.a = "wade";
console.log(obj.a.a); //wade
```

æ³¨æ„ï¼šå½“ object åªæœ‰ä¸€å±‚çš„æ—¶å€™ï¼Œæ˜¯æ·±æ‹·è´ã€‚
```js
let obj = {
  username: "kobe"
};
let obj2 = Object.assign({}, obj);
obj2.username = "wade";
console.log(obj); //{username: "kobe"}
```
#### 2. Array.prototype.slice()

```js
let arr = [
  1,
  3,
  {
    username: " kobe"
  }
];
let arr3 = arr.slice();
arr3[2].username = "wade";
console.log(arr);

```

ä¿®æ”¹æ–°å¯¹è±¡ä¼šæ”¹åˆ°åŸå¯¹è±¡ï¼š

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6a07716c5c7a8?w=450&h=276&f=png&s=24844)

#### 3. Array.prototype.concat()

```js
let arr = [
  1,
  3,
  {
    username: "kobe"
  }
];
let arr2 = arr.concat();
arr2[2].username = "wade";
console.log(arr);
```

åŒæ ·ä¿®æ”¹æ–°å¯¹è±¡ä¼šæ”¹åˆ°åŸå¯¹è±¡ï¼š

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6a09434edd624?w=404&h=270&f=png&s=24337)

> **å…³äº Array çš„ slice å’Œ concat æ–¹æ³•çš„è¡¥å……è¯´æ˜**ï¼šArray çš„ slice å’Œ concat æ–¹æ³•**ä¸ä¿®æ”¹åŸæ•°ç»„**ï¼Œåªä¼šè¿”å›ä¸€ä¸ªæµ…å¤åˆ¶äº†åŸæ•°ç»„ä¸­çš„å…ƒç´ çš„ä¸€ä¸ªæ–°æ•°ç»„ã€‚

#### 4. æ‰©å±•è¿ç®—ç¬¦

```js
let a = {
    name: "sadhu",
    book: {
        title: "You Don't Know JS",
        price: "45"
    }
}
let b = {...a};
console.log(b);
// {
// 	name: "sadhu",
// 	book: {title: "You Don't Know JS", price: "45"}
// } 

a.name = "change";
a.book.price = "55";
console.log(a);
// {
// 	name: "change",
// 	book: {title: "You Don't Know JS", price: "55"}
// } 

console.log(b);
// {
// 	name: "sadhu",
// 	book: {title: "You Don't Know JS", price: "55"}
// } 
```

#### æ‰‹å†™ä¸€ä¸ªç®€æ˜“æµ…æ‹·è´

éå†å¯¹è±¡ï¼Œç„¶åæŠŠå±æ€§å’Œå±æ€§å€¼éƒ½æ”¾åœ¨ä¸€ä¸ªæ–°çš„å¯¹è±¡å°±å¥½äº†ã€‚

```js
var shallowCopy = function(obj) {
    // åªæ‹·è´å¯¹è±¡
    if (typeof obj !== 'object') return;
    // æ ¹æ®objçš„ç±»å‹åˆ¤æ–­æ˜¯æ–°å»ºä¸€ä¸ªæ•°ç»„è¿˜æ˜¯å¯¹è±¡
    var newObj = obj instanceof Array ? [] : {};
    // éå†objï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯objçš„å±æ€§æ‰æ‹·è´
    for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
            newObj[key] = obj[key];
        }
    }
    return newObj;
}
```

### å…³äºæ€ç»´å¯¼å›¾ä¸­æ·±æ‹·è´çš„ä¸€ç‚¹è¡¥å……

å°±è¡¥å……ä¸€ä¸ªå…³äºJSON.parse(JSON.stringify())ä¾‹å­ï¼š
```js
let obj = {
  reg: /^asd\$/,
  fun: function() {},
  und: undefined,
  syb: Symbol("foo"),
  asd: "asd"
};
let cp = JSON.parse(JSON.stringify(obj));
console.log(cp);
```

![](https://user-gold-cdn.xitu.io/2019/4/30/16a6a12d3633ca47?w=464&h=154&f=png&s=16784)

å¯ä»¥çœ‹åˆ°ï¼Œå‡½æ•°ã€æ­£åˆ™ã€Symbolã€undefined éƒ½æ²¡æœ‰è¢«æ­£ç¡®çš„å¤åˆ¶ã€‚

### æ‰‹å†™ä¸€ä¸ªç®€æ˜“æ·±æ‹·è´

æˆ‘ä»¬åœ¨æµ…æ‹·è´çš„åŸºç¡€ä¸Šåˆ¤æ–­ä¸€ä¸‹å±æ€§å€¼çš„ç±»å‹ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬é€’å½’è°ƒç”¨æ·±æ‹·è´å‡½æ•°ï¼š

```js
var deepCopy = function(obj) {
    if (typeof obj !== 'object') return;
    var newObj = obj instanceof Array ? [] : {};
    for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
            newObj[key] = typeof obj[key] === 'object' ? deepCopy(obj[key]) : obj[key];
        }
    }
    return newObj;
}
```

è¿™åªæ˜¯ç®€æ˜“ï¼Œé’ˆå¯¹æ™®é€šåº”ç”¨åœºæ™¯ã€‚æœ‰é—®é¢˜æ¯”å¦‚`typeof`åˆ¤æ–­è¿”å›çš„æ˜¯`function`ï¼Œè¿™ç§å‡½æ•°çš„å¤åˆ¶æ˜¯ä¸€ä¸ªå¾ˆéš¾è§£å†³çš„é—®é¢˜å‘€ï¼Œå³ä½¿æ˜¯ jQuery çš„ extend ä¹Ÿæ²¡æœ‰å»å¤„ç†å‡½æ•°ã€‚å…³äºnullå’Œå¾ªç¯å¼•ç”¨ä¹Ÿæ²¡æœ‰è€ƒè™‘ï¼Œéœ€è¦ç”¨åˆ°æ—¶å¯ä»¥å»çœ‹çœ‹æˆ‘åé¢è´´å‡ºçš„å‚è€ƒæ–‡ç« é‡Œçš„ä»£ç ã€‚

### æ€§èƒ½é—®é¢˜

å°½ç®¡ä½¿ç”¨æ·±æ‹·è´ä¼šå®Œå…¨çš„å…‹éš†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œä½†æ˜¯æ·±æ‹·è´å› ä¸ºä½¿ç”¨é€’å½’ï¼Œæ€§èƒ½ä¼šä¸å¦‚æµ…æ‹·è´ï¼Œåœ¨å¼€å‘ä¸­ï¼Œè¿˜æ˜¯è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‰æ‹©ã€‚

æœ¬æ–‡å®Œã€‚

å¸Œæœ›çœ‹åˆ°å„ä½æŠ€æœ¯äººå¯¹è¿™ç¯‡æ–‡ç« æœ‰ä¸åŒçš„æœ‰â€œè¯æ®â€ï¼Œç¬¦åˆé€»è¾‘çš„åˆ†æã€çœ‹æ³•ï½

æ–‡ç« ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°åœ¨[GitHub](https://github.com/YxrSadhu/Article)ï¼Œè§‰å¾—å†™å¾—è¿˜ä¸é”™çš„ï¼Œå¯ä»¥ç‚¹ä¸ªstaræ”¯æŒä¸‹ä½œè€…ğŸª

--- 

å‚è€ƒï¼š
1. [JavaScriptæ·±å…¥ä¹‹æ·±æ‹·è´ä¸æµ…æ‹·è´](https://github.com/fyuanfen/note/blob/master/article/JavaScript/JavaScript%E6%B7%B1%E5%85%A5%E4%B9%8B%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D.md)
2. [è¯¦ç»†è§£æèµ‹å€¼ã€æµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«](https://github.com/yygmind/blog/issues/25)
3. [JavaScriptä¸“é¢˜ä¹‹æ·±æµ…æ‹·è´](https://github.com/mqyqingfeng/Blog/issues/32)